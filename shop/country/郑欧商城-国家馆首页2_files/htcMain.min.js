/*! ocean 2016-01-06 */
function setLocation(a){window.location.href=a}function openWindows(a){window.open(a)}function slideTab(){return}function scrollNav(a){var b=a("#side_nav");b.length&&b.on("click",".nav",function(){var b=a("#"+this.id.replace("nav_",""));a(this).addClass("hover"),a("html, body").animate({scrollTop:b.offset().top-70})})}function smenu(a){var b,c;c=a("#s_menu").hover(function(){b=setTimeout(function(){c.addClass("active"),window.UM&&UM.getEditor("sdEditor").setHide()},300)},function(){clearTimeout(b),c.removeClass("active"),window.UM&&UM.getEditor("sdEditor").setShow()}),a(".kind-drop").hover(function(){window.UM&&UM.getEditor("sdEditor").setHide()},function(){window.UM&&UM.getEditor("sdEditor").setShow()})}function slidesjs(a){function b(b){var c=h;f.eq(b).css("zIndex",2).show().animate({opacity:1},300,"linear",function(){c!==b&&f.eq(c).hide().css({opacity:.5,zIndex:0}).removeClass("slider_transition"),a(this).addClass("slider_transition").css("zIndex",1)}),h=b,g.removeClass("active").eq(b).addClass("active")}var c,d,e=a("#slider_handler"),f=e.find(".slider"),g="",h=0;e.length&&f.length&&(f.each(function(a){g+="<li>"+a+"</li>"}),g=a("ul.slidesjs-pagination",e).html(g).find("li"),c=f.length,e.on("mouseenter","li",function(){var a=parseInt(this.innerHTML,10);b(a)}).on("click",".left-handler,.right-handler",function(){var a,d=this.getAttribute("act");"left"==d&&(a=h-1),"right"==d&&(a=h+1),0>a?a=c-1:a>c-1&&(a=0),b(a)}).hover(function(){clearInterval(d),d=null},function(){clearInterval(d),d=null,d=setInterval(function(){var a=h+1;a>c-1&&(a=0),b(a)},4e3)}),b(h),d=setInterval(function(){var a=h+1;a>c-1&&(a=0),b(a)},4e3))}function brandSlide(a){a(".brand-list-box").each(function(b,c){var d=c.getElementsByTagName("ul");d.length>1&&a(c).slidesjs({width:109,height:442,pagination:{active:!1},play:{active:!1,auto:!0,interval:4e3,swap:!0,pauseOnHover:!0,restartDelay:2500}})})}function hotBrand(a){var b=a(".brand-tb");b.length&&a(".brand-menu").on("click","li",function(){var c=a("li",this.parentNode).index(this);a(this).addClass("hover").siblings("li").removeClass("hover"),b.hide().eq(c).show().find("img.lazy").each(function(){a(this).triggerHandler("appear")})}).find("li:first").click()}function switchGroup(a){!function(){var b='<li class="left flag-{country}"><div class="p-item"><div class="p-item-title"><a class="flag" href="{storeUrl}" >{store}</a></div><a class="p-item-img" href="{productUrl}" target="_blank" title="{product}" data-tag="{trackNo}"><img src="{productImg}" width="190" height="190" /><p class="black">{product}</p></a><p class="p-item-price">{price}</p> </div></li>',c=a(".daily-update .plist ul");a.ajax({type:"get",url:ROOT_URL+"pt_catalog/home/getRecommendProductList?size=100",dataType:"json",success:function(d){var e,f,g,h=[],j=0,k=0;for(j=0,dl=d.length;dl>j;j++)f=d[j],f&&h.push(b.replace("{country}",f.country).replace("{storeUrl}",f.storeUrl).replace("{store}",f.store).replace("{productImg}",f.productImg).replace(/\{product\}/g,f.product).replace("{productUrl}",f.productUrl).replace("{price}",f.price).replace("{trackNo}",j+1));for(c.html(h.join("")),g=a(".daily-update .plist li"),e=e=Math.ceil(g.length/5),a(".daily-update .plist ul").width(1184*e),i=0;e>i;i++)g.eq(5*i+4).addClass("last");a(".daily-update .plist .arrRight").click(function(b){b.preventDefault(),k++,k>e-1&&(k=0),a(".plist-inner ul").stop(!0,!0).animate({left:1184*-k},"fast")}),a(".daily-update .plist .arrLeft").click(function(b){b.preventDefault(),k--,0>k&&(k=e-1),a(".plist-inner ul").stop(!0,!0).animate({left:1184*-k},"fast")})}})}()}function autoComplete(a){var b=a("form.auto-search");if(0!==b.length){searchKey||(searchKey={text:"",real:""}),b.on("submit",function(){var b=this.getElementsByTagName("input")[0];if(b.value===searchKey.text||""===b.value.replace(/^\s+|\s+$/g,"")){if(!searchKey.real)return!1;b.value=searchKey.real,a(this).find(".place-holder").remove()}}).on("click","li",function(){var b=this.getAttribute("title"),c=a(this).parents("form"),d=c[0].getElementsByTagName("input")[0];d.value=b,c.submit()});var c,d,e=a("input:text",b).on("focus",function(){var b=this.value;""!==b&&a(this).triggerHandler("keyup")}).on("blur",function(){var a=this.value;""===a&&d.html(searchKey.text)}).on("keyup",function(b){var f=this.value,g=this;if(13===b.keyCode)return""===f&&(this.value=searchKey.real),""===this.value?!1:void a(this).parents("form").submit();if(""!==f){var g=this;c||(c=setTimeout(function(){var b=g.value,d=b.replace(/^\s+|\s+$/,""),f=[];""!==d&&a.ajax({type:"get",url:"http://search.haituncun.com/v1/search/expanded?kw="+d+"&callback=?",dataType:"jsonp",success:function(c){if(c&&g.value===b){for(var d=0;d<c.data.length;d++)f.push('<li title="'+c.data[d]+'">'+c.data[d]+"</li>");a(g).siblings("div.search-autocomplete").html('<ul><li style="display:none"></li>'+f.join("")+"</ul>").show()}else a(g).siblings("div.search-autocomplete").hide()}}),clearTimeout(c),c=null,e.not(g).val(b)},300)),d.html("")}else clearTimeout(c),c=null,a(this).siblings("div.search-autocomplete").hide(),d.html(searchKey.text),e.val("")}),f=searchKey.text;f=e.val()?"":searchKey.text,d=a('<div class="place-holder">'+f+"</div>").insertBefore(e),b.on("click",".place-holder",function(){a(this).next("input:text").select()})}}function tab(a,b,c,d){c||(c="current"),d||(d="click"),a.bind(d,function(d){d.preventDefault();var e=a.index(this);a.removeClass(c).eq(e).addClass(c),b.removeClass(c).eq(e).addClass(c)})}jQuery(document).ready(function(){var a=jQuery;a("img.lazy").lazyload({threshold:100,failure_limit:25}),smenu(a),function(){var b;a(".q-access").find(".user-center").hover(function(){clearTimeout(b),a(this).find(".ddmenu").show()},function(){var c=this;b=setTimeout(function(){a(c).find(".ddmenu").hide()},200)})}(),function(){var b=a(".topbar li.weixin"),c=null;b.find(".wxwrap").length||b.append('<div class="wxwrap"><div class="wximg"></div><p>关注海豚村微信</p><p>随时解决您的疑问</p></div>'),b.hover(function(){clearTimeout(c),b.find(".wxwrap").show()},function(){c=setTimeout(function(){b.find(".wxwrap").hide()},200)})}(),function(){a(".cms-shipping-costs tbody tr").hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")});var b=a(".cms-shipping-costs");tab(b.find(".areatab span"),b.find(".ship"),"cur")}(),slidesjs(a),hotBrand(a),slideTab(a),smenu(a),scrollNav(a),brandSlide(a),a("body").hasClass("cms-home")&&switchGroup(a),autoComplete(a),a(".products-grid .item").hover(function(){a(this).addClass("current-item")},function(){a(this).removeClass("current-item")});var b=!0;a("body").hasClass("category-ylipin")||a(".product-related").length||a(".products-grid li").hover(function(){b=!1,0===jQuery(this).find(".prdct-cover").length&&(a.browser.msie&&"8.0"==a.browser.version?a(this).find(".product-image-wrap").css("border-bottom","none").after('<div class="prdct-cover"></div>'):a(this).find(".product-image-wrap").css("border-bottom","none").before('<div class="prdct-cover"></div>')),a(this).find(".prdct-cover").css("border-top","1px solid #e6e6e6").stop(!0,!0).animate({"margin-top":"-30px"},"fast"),a(this).find(".product-name").stop(!0,!0).animate({"margin-top":"-18px"},"fast"),a(this).find(".actions").stop(!0,!0).fadeIn("fast")},function(){b=!0;var c=this;a(this).find(".prdct-cover").stop(!0,!0).animate({"margin-top":"0","border-top":"none"},"fast",function(){b&&(a(c).find(".prdct-cover").remove(),a(c).find(".product-image-wrap").css("border-bottom","1px solid #e6e6e6"))}),a(this).find(".product-name").stop(!0,!0).animate({"margin-top":"12px"},"fast"),a(this).find(".actions").stop(!0,!0).fadeOut("fast")}),a(".onestepcheckout-index-index .address-use-new").toggle(function(b){b.preventDefault(),a("#billing_address_list").is(":animated")||(a("#billing_address_list").slideDown(),a(this).text("收起地址域"),a(".onestepcheckout-index-index div.selectd").removeClass("selectd").addClass("old-mark"),a("#add_newAddress").prop("checked",!0))},function(b){b.preventDefault(),a("#billing_address_list").is(":animated")||(a("#billing_address_list").slideUp(),a(this).text("使用新地址"),a(".onestepcheckout-index-index div.old-mark").find("input[name=billing_address_id]").prop("checked",!0),a(".onestepcheckout-index-index div.old-mark").removeClass("old-mark").addClass("selectd"))}),a(".onestepcheckout-index-index div.address").live("click",function(){a(this).addClass("selectd").siblings(".address").removeClass("selectd").removeClass("old-mark"),a(this).find(":radio").prop("checked",!0),a(this).siblings(".address").find(":radio").prop("checked",!1),a(".onestepcheckout-error-all").hide(),a("#onestepcheckout-place-order").removeClass("disabled"),a("#billing_address_list").is(":visible")&&a("#billing_address .address-use-new").click()}),function(){var b=a(".onestepcheckout-index-index a.more"),c=b.parents(".saved-address").find(".address:hidden");b.toggle(function(a){a.preventDefault(),c.show(),b.css("background-position","-32px -90px")},function(a){a.preventDefault(),c.hide(),b.css("background-position","0 -90px")})}(),a(".product-img-zoom").jqueryzoom({xzoom:398,yzoom:398,offset:20,position:"right",preload:1}),a(".product-img-box .more-views li").mouseover(function(){var b=a(this).find("img").data("normal"),c=a(this).find("img").data("big");a(this).addClass("hover").siblings().removeClass("hover"),a(".product-img-zoom > img").attr("src",b).attr("jqimg",c)}).mouseout(function(){a(this).removeClass("hover")}),a(".saved-address .func-zone span").click(function(){var b=a(this).data("addressid"),c=this;a.ajax({type:"post",url:ROOT_URL+"customer/address/setDefaultShipment",dataType:"json",data:"address_id="+b,success:function(b){0==b.ret?easyDialog.open({container:{header:"提示",content:"您必须先登录才能进行操作",yesFn:function(){}}}):1==b.ret?(a(".saved-address .func-zone span").removeClass().text("设为默认"),a(c).addClass("default left").text("当前默认地址"),easyDialog.open({container:{header:"提示",content:"默认地址设置成功！"},autoClose:2e3})):2==b.ret&&easyDialog.open({container:{header:"提示",content:"默认地址设置失败，请重试！",yesFn:function(){}}})}})}),a(".sort-wrap").each(function(){a(this).find("li").length>6&&a(this).find("dd").append('<a href="javascript:;" class="show-more" title="显示更多">更多</a>')}),a(".sort-wrap").delegate(".show-more","click",function(b){b.preventDefault(),a(this).hasClass("show-less")?(a(this).removeClass("show-less").attr("title","显示更多"),a(this).parents("dd").removeClass("more")):(a(this).addClass("show-less").attr("title","收起"),a(this).parents("dd").addClass("more"))}),function(a){function b(a){var b=a.outerWidth()/2;a.css("margin-left",-b)}var c=a(".sort-wrap"),d=[];c.length<5||(5===c.length&&d.push(c.eq(4).find("dt").text()),c.length>5&&(d.push(c.eq(4).find("dt").text()),d.push(c.eq(5).find("dt").text()),d.push("等")),c.filter(":gt(3)").hide(),a("#narrow-by-list").append('<div class="more-expand-area"><a class="more-btn" href="javascript:void(0)"></a></div>'),a("#narrow-by-list a.more-btn").html('更多选项 <span class="d">('+d.join(" ")+")</span>").toggle(function(d){d.preventDefault(),c.show(),a(this).html('<span class="u">收起</span>'),b(a("#narrow-by-list a.more-btn"))},function(e){e.preventDefault(),c.filter(":gt(3)").hide(),a(this).html('更多选项 <span class="d">('+d.join(" ")+")</span>"),b(a("#narrow-by-list a.more-btn"))}),b(a("#narrow-by-list a.more-btn")))}(jQuery),a(".us-avatar-wrap").hover(function(){a(this).find(".modify-background").css("display","block"),a(this).find(".modify-on-left").css("display","block")},function(){a(this).find(".modify-background").css("display","none"),a(this).find(".modify-on-left").css("display","none")}),a("#htq").focus(function(){"输入海豚券兑换码"==this.value&&a(this).val("")});var c,d,e=jQuery(window),f=jQuery(document.body),g=jQuery("#side_nav"),h=jQuery("#scroll-search"),i=jQuery(".nav","#side_nav"),j=jQuery(".spec-block");a(window).on("scroll",function(){var b=e.scrollTop();if(b>560){if(c&&!c.isShow)c.isShow=!0,c.stop(!0,!0).fadeIn();else{if(f.hasClass("cms-10-10")||f.hasClass("cms-country"))return;c||(c=jQuery('<a class="backTop"  title="回到顶部" href="#"></a>').appendTo("body"),c.click(function(){return a("html, body").animate({scrollTop:0}),!1}))}if(g.length&&!g.isShow&&(g.stop(!0,!0).slideDown(),g.isShow=!0),h.length&&!h.isShow&&(h.stop(!0,!0).slideDown(),h.isShow=!0),g.length&&j.length){for(var k=0,l=!1;k<j.length;k++)if(d=j[k].getBoundingClientRect(),d.top<200&&d.top>-300){l=!0,i.eq(k).hasClass("hover")||i.removeClass("hover").eq(k).addClass("hover");break}l===!1&&i.removeClass("hover")}}else c&&c.isShow&&(c.stop(!0,!0).fadeOut(),c.isShow=!1),g.length&&g.isShow&&(g.stop(!0,!0).fadeOut(),g.isShow=!1,i.removeClass("hover")),h.length&&h.isShow&&(h.stop(!0,!0).slideUp(),h.isShow=!1)}),function(){var b='<a href="http://www.haituncun.com/promotion/xinrenshigou/" target="_blank"><img style="display:block; width:167px; height:79px; position:fixed; bottom:0; left:0; z-index:99999;" src="http://assets.haituncun.com/skin/frontend/PlumTree/default/images/v4/home_float.png" /></a>';a("body").hasClass("cms-home")&&a("body").append(b)}(),a(".more-views li").click(function(){var b=a(this).data("mainimage"),c=a(this).data("bigimage"),d=a("#image");d.attr("src",b).attr("jqimg",c),a(this).addClass("current").siblings().removeClass("current")}),(a("body").hasClass("customer-address-index")||a("body").hasClass("onestepcheckout-index-index")||a("body").hasClass("customer-address-form"))&&(a("#firstname").add(document.getElementById("billing:firstname")).focus(function(){a(this).siblings(".adck-tip").hide()}).blur(function(){this.value||a(this).siblings(".adck-tip").show()}),a("#region_id").add("#city").add("#s_county").bind("change",function(){a(this).siblings(".adck-tip").hide()}),a("#street_1").add(document.getElementById("billing:street1")).focus(function(){a(this).siblings(".adck-tip").hide()}).blur(function(){this.value||a(this).siblings(".adck-tip").show()}),a("#zip").add(document.getElementById("billing:postcode")).focus(function(){a(this).siblings(".adck-tip").hide()}).blur(function(){/^\d{6}$/.test(this.value)||a(this).siblings(".adck-tip").show()}),a("#telephone").add(document.getElementById("billing:telephone")).focus(function(){a(this).siblings(".adck-tip").hide()}).blur(function(){/^0?(13|14|15|17|18)[0-9]{9}$/.test(this.value)||a(this).siblings(".adck-tip").show()}),a("#email").focus(function(){a(this).siblings(".adck-tip").hide()}).blur(function(){/\w+((-w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+/.test(this.value)||a(this).siblings(".adck-tip").show()}),a(".sav-address").click(function(){a(this).parents("form");return("省份"==a("#region_id").val()||"地级市"==a("#city").val())&&a("#region_id").siblings(".adck-tip").show(),a("#firstname").add("#street_1").add("#zip").add("#telephone").add("#email").trigger("blur"),a(".adck-tip:visible").length?!1:void 0})),a(".freight-rules").click(function(b){b.preventDefault(),easyDialog.open({container:{header:"运费规格表（鼠标可移到圆点查看）",content:'<iframe frameborder="0" width="900" height="480" scrolling="no" src="'+ROOT_URL+"skin/frontend/PlumTree/default/freight/freight.html?t="+ +new Date+'"></iframe>'}}),a(".checkout-cart-index .easyDialog_wrapper").css("width",920),a("#easyDialogBox").css("margin-left",-463)}),function(){a("ul.dirlist").length&&a("ul.dirlist .main b").click(function(){var b=a(this);b.parents("li").hasClass("expand")?b.parents("li").removeClass("expand").addClass("shrink"):b.parents("li").hasClass("shrink")&&b.parents("li").removeClass("shrink").addClass("expand")})}(),function(){window.is_expand_menu||(a(".aside").find(".dirlist .subdir").each(function(){var b=a(this).find("li"),c=b.length,d=this;if(c>5){for(var e=5;c>e;e++)b.eq(e).hide();a(this).append('<li class="show-more">展开</li>'),a(this).find(".show-more").click(function(){a(d).find("li:hidden").fadeIn(),a(this).hide()})}}),a(".aside").find(".dirlist").each(function(){var b=a(this).find("> li"),c=b.length,d=this;if(c>5){for(var e=5;c>e;e++)b.eq(e).hide();a(this).append('<li class="show-more-out">查看全部</li>'),a(this).find(".show-more-out").click(function(){a(d).find("> li:hidden").fadeIn(),a(this).hide()})}}))}(),function(){var b=a(".product-extend-about-htc");b.length&&tab(b.find(".keys a"),b.find(".keyCont img"),"current","hover")}(),function(){var b=a(".product-details-comments");b.length&&tab(b.find(".extab"),b.find(".product-extend"))}(),function(){var b=a(".aside .logoswrap > a"),c=Math.floor(b.length/10);if(b.length<=10)return b.filter(":lt(10)").wrapAll('<div class="logo-block clearfix"></div>'),void a(".logoswrap").css("padding-bottom","13px");b.filter(":lt(10)").wrapAll('<div class="logo-block clearfix"></div>');for(var d=1;c>d;d++)b.filter(":lt("+10*(d+1)+"):gt("+(10*d-1)+")").wrapAll('<div class="logo-block clearfix"></div>');b.filter(":gt("+(10*c-1)+")").wrapAll('<div class="logo-block clearfix"></div>'),a(".aside .logoswrap").slidesjs({width:190,height:346,navigation:{active:!0,effect:"slide"},pagination:!1})}(),function(){var b=null,c=a(".category-products .supplier .vendor-name"),d=a(".category-products .supplier .droplist");d.find("a").length>6&&d.addClass("wide"),c.hover(function(){clearTimeout(b),d.show()},function(){b=setTimeout(function(){d.hasClass("hover")||d.hide()},200)}),d.hover(function(){a(this).addClass("hover").show()},function(){a(this).removeClass("hover").hide()})}(),function(){a('<div class="pack-help-tip"><i></i>为保障流程透明，您的商品将由各商家独立打包运送，不能合并包裹请您谅解</div>').appendTo("body").hide();var b=a(".category-products .supplier .pack-help");b.hover(function(){var c=b.offset();a(".pack-help-tip").show().css({left:c.left+46,top:c.top-51})},function(){a(".pack-help-tip").hide()})}(),a("body").hasClass("cms-home")&&a.ajax({type:"get",url:ROOT_URL+"vpop/home/ajaxshow",dataType:"json",success:function(b){if(b.ret){var c='<div class="iMask"></div>';c+='<div class="iCont">'+b.content+'<a href="javascript:void(0)" class="close" title="点击关闭">关闭</a></div>',a("body").append(c);var d=a(".iCont"),e=d.outerWidth(),f=d.outerHeight();d.css({"margin-left":-e/2,"margin-top":-f/2}),a(".iCont .close").click(function(b){b.preventDefault(),a(".iMask, .iCont").remove(),a(this).unbind("click")}),b.residenceTime&&setTimeout(function(){a(".iCont .close").trigger("click")},1e3*b.residenceTime)}}}),function(){a(".my-account .confirm-button").click(function(b){b.preventDefault();var c=a(this).attr("href");return easyDialog.open({container:{header:"收货提示",content:'<div class="tip-notice-content">请确认您是否已收到货<p style="color:#999;font-size:12px;line-height:1.2">温馨提示：请您仔细检查收到商品的情况，如果有问题请及时联系海豚村客服为您处理</p> </div>',yesText:"确认",noText:"未收到",yesFn:function(){window.location.href=c},noFn:!0}}),!1}),a(".my-account .v-info.fail").hover(function(){var b=a(this).offset(),c=a(this).siblings(".f-reason").text();a("body").append('<div class="fail-reason"><b></b><i></i>'+c+"</div>"),a(".fail-reason").css({left:b.left-160,top:b.top-7})},function(){a(".fail-reason").remove()})}(),a("body").hasClass("catalog-product-view")&&a.ajax({type:"get",url:ROOT_URL+"pt_catalog/product/getStock/id/"+product_id+"/",dataType:"json",success:function(b){if(0==b.ret){a("div.add-to-cart.line").remove(),a("ul.add-to-links").remove();var c=a(".inventory.product-meta").find("span").eq(0).text();a(".inventory.product-meta p").length?a(".inventory.product-meta").find("p").html("缺货 | <span>"+c+"</span>"):a(".inventory.product-meta").find("span").eq(0).text("缺货")}}})}),jQuery("a[href*=#]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=jQuery(this.hash);if(a=a.length&&a||jQuery("[id="+this.hash.slice(1)+"]"),a.length){var b=a.offset().top;return jQuery("html,body").animate({scrollTop:b},600),!1}}}),jQuery(document).ready(function(){var a=jQuery,b=window.location.pathname,c=["/ycguojia/ycgb/yctlc/","/ycguojia/ycgb/ycbfso/","/ycguojia/ycgb/ycsc/","/ycguojia/ycde/ycba/","/ycguojia/ycde/ycem/","/ycguojia/ycde/ycuka/","/ycguojia/ycde/dehcp/","/ycguojia/ycnl/ychb/","/ycguojia/ycfr/ycp1001/","/ycguojia/ycbel/ycfl/","/ycguojia/ycau/ycpo/","/ycguojia/ycau/netpharmacy/","/ycguojia/ycus/wnc/","/ycguojia/ykorea/ylpcos/","/ycguojia/ychk/ycexpan/","/ycguojia/"],d=a("#nav").find("li.item");if(a("body").hasClass("cms-home"))return void d.eq(0).addClass("current");switch(d.removeClass("current"),a.inArray(b,c)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:d.eq(2).addClass("current");break;case 10:case 11:d.eq(3).addClass("current");break;case 12:d.eq(4).addClass("current");break;case 13:case 14:d.eq(5).addClass("current");break;case 15:d.eq(6).addClass("current");break;default:d.removeClass("current")}});